
# リファクタリング

処理が正しくても読みづらいコードは後々バグが起きやすい

正しく動いたら終わりではなくそこからリファクタリングを検討しよう

もう作業が終わって「2度と見たくない」「いじりたくない」ところこそすぐにリファクタリング

作り終わった時が一番頭がそこを理解している

リファクタリングはテストコードを書いて動作が変わらないか動きを担保してからやろう

と言ってもバグが起きてるが複雑過ぎて追えない時などもリファクタリングする

そうすると動きは変わるがバグが消えるならむしろ正しい動きに変わるわけだからまあいいか？

テストコードの手順は以下の通り

```
雛形を作る
雛形に対するテストコードを書く
テストを失敗させる
テストを成功させる最低限のコードを書く
雛形のクラス内でリファクタリング対象のコードを呼び出す
リファクタリング対象のコードを書き換えて常にテストを成功させる
```